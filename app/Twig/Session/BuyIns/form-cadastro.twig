{% set buyinId = (bi is not empty) ? bi['buyinId'] : null %}
{% set tipoBuyIn = (bi is not empty) ? bi['tipoBuyIn'] : '' %}
{% set pokerSiteId = (bi is not empty) ? bi['pokerSiteId'] : '' %}
{% set gameName = (bi is not empty) ? bi['gameName'] : '' %}
{% set startDate = (bi is not empty) ? bi['startDate'] : '' %}
{% set endDate = (bi is not empty) ? bi['endDate'] : '' %}
{% set buyinValue = (bi is not empty) ? bi['buyinValue'] : '' %}
{% set prizeIn = (bi is not empty) ? bi['prizeIn'] : '' %}
{% set prizeReentry = (bi is not empty) ? bi['prizeReentry'] : '' %}
{% set reentryBuyIn = (bi is not empty) ? bi['reentryBuyIn'] : '' %}
{% set stakingSelling = (bi is not empty) ? bi['stakingSelling'] : '' %}
{% set stakingSold = (bi is not empty) ? bi['stakingSold'] : '' %}
{% set markup = (bi is not empty) ? bi['markup'] : '' %}
{% set isClosed = (bi is not empty) ? bi['isClosed'] : false %}
{% set fieldSize = (bi is not empty) ? bi['fieldSize'] : '' %}
{% set position = (bi is not empty) ? bi['position'] : '' %}
{% set finalTable = (bi is not empty) ? bi['finalTable'] : '' %}
{% set sessionPokerid = (bi is not empty) ? bi['sessionPokerid'] : openedSession['id'] %}
{% if (startDate is not empty) %}
	{% set objStartDate = ci_time(startDate,'Y-m-d H:i:s') %}
	{% set startDate = objStartDate.format('Y-m-d') %}
	{% set startTime = objStartDate.format('H:i') %}
{% else %}
	{% set startTime = date('H:i') %}
	{% set startDate = date('Y-m-d') %}
{% endif %}
{% if (endDate is not empty) %}
	{% set objEndDate = ci_time(endDate,'Y-m-d H:i:s') %}
	{% set endDate = objEndDate.format('Y-m-d') %}
	{% set endTime = objEndDate.format('H:i') %}
{% else %}
	{% set endTime = '' %}
{% endif %}
<div class="card">
	<div class="card-header">
		<h5 class="card-title">{{(buyinId) ? 'Edição' : 'Cadastro'}}
			de buy in</h5>
	</div>
	<div
		class="card-body pt-3">

		<!-- Multi Columns Form -->
		<form method="post" class="row g-3">
			<input autocomplete="off" type='hidden' name="sessionPokerid" value="{{set_value('sessionPokerid', sessionPokerid)}}"/>
			<input autocomplete="off" type='hidden' name="buyinId" value="{{set_value('buyinId', buyinId)}}"/>
			<div class="col-6 col-sm-6 col-md-6 col-lg-6">
				<label for="startDate" class="form-label">Data Início</label>
				<input autocomplete="off" type="date" name="startDate" class="form-control" id="startDate" value="{{set_value('startDate', startDate)}}" required>
			</div>

			<div class="col-6 col-sm-6 col-md-6  col-lg-6">
				<label for="startTime" class="form-label">Hora Início</label>
				<input autocomplete="off" type="time" name="startTime" class="form-control" id="startTime" value="{{set_value('startTime', startTime)}}" required>
			</div>

			<div class="col-md-6 col-lg-6">
				<label for="tipoBuyIn" class="form-label">Tipo do buy in</label>
				<select class="form-select" name="tipoBuyIn" id="tipoBuyIn" required>
					<option></option>
					{% for optionTipoBuyIn in tiposBuyIn %}
						<option value='{{optionTipoBuyIn.id}}' {{set_value('tipoBuyIn', tipoBuyIn)==optionTipoBuyIn.id ? 'selected' : '' }}>
							{{optionTipoBuyIn.name}}</option>
					{% endfor %}
				</select>
			</div>
			<div class="col-md-6 col-lg-6">
				<label for="pokerSiteId" class="form-label">Site</label>
				<select class="form-select" name="pokerSiteId" id="pokerSiteId" required>
					<option></option>
					{% for optionPokerSiteId in pokerSites %}
						<option value='{{optionPokerSiteId.id}}' {{set_value('pokerSiteId', pokerSiteId)==optionPokerSiteId.id ? 'selected' : '' }}>
							{{optionPokerSiteId.name}}</option>
					{% endfor %}
				</select>
			</div>
			<div class="col-md-12 col-12 col-lg-12 col-sm-12 ">
				<label for="gameName" class="form-label">Nome do jogo</label>
				<input autocomplete="off" type="text" name="gameName" class="form-control" id="gameName" value="{{set_value('gameName', gameName)}}" required>
				<div id="retorno-lista-jogos"></div>
			</div>
			<div class="col-6 col-sm-6 col-md-6 col-lg-3">
				<label for="buyinValue" class="form-label">Valor do buy in</label>
				<div class="input-group has-validation">
					<span class="input-group-text" id="IGPBuyinValue">
						<i data-bs-toggle="tooltip" title="Valor em dólar americano" class="bi bi-currency-dollar"></i>
					</span>
					<input autocomplete="off" type="text" inputmode="numeric" name="buyinValue" class="form-control money-dolar" id="buyinValue" value="{{set_value('buyinValue', buyinValue)}}" required>
				</div>
			</div>


			<div class="col-6 col-sm-6 col-md-6 col-lg-3">
				<label for="reentryBuyIn" class="form-label">Reentrada
					<i data-bs-toggle="tooltip" title="Inclusive rebuy, addon e outros extras" class='bi bi-info-circle-fill'></i>
				</label>
				<div class="input-group has-validation">
					<span class="input-group-text" id="IGPReentryBuyIn">
						<i data-bs-toggle="tooltip" title="Valor em dólar americano" class="bi bi-currency-dollar"></i>
					</span>
					<input autocomplete="off" type="text" inputmode="numeric" name="reentryBuyIn" class="form-control money-dolar" id="reentryBuyIn" value="{{set_value('reentryBuyIn', reentryBuyIn)}}">
				</div>
			</div>
			<div class="text-center">
				<button type="reset" class="btn btn-secondary">Limpar</button>
				<button type="submit" class="btn btn-primary">Salvar</button>
			</div>
		</form>
		<!-- End Multi Columns Form -->

	</div>
</div>
